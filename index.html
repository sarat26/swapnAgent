<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monthly Pack Agent - Swapna's Personal Recommendations</title>
    <style>
        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .header h1 {
            color: #2c3e50;
            margin: 0;
            font-size: 2.5em;
        }
        .header p {
            color: #7f8c8d;
            font-size: 1.2em;
            margin: 10px 0 0 0;
        }
        .instructions {
            background: #e8f5e8;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #27ae60;
        }
        .recommendations {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }
        .card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .card-header {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .card-header h3 {
            margin: 0;
            font-size: 1.3em;
        }
        .card-buttons {
            display: flex;
            gap: 8px;
        }
        .card-body {
            padding: 20px;
        }
        .card-body h4 {
            margin: 0 0 10px 0;
            color: #2c3e50;
        }
        .card-body p {
            color: #7f8c8d;
            line-height: 1.6;
            margin: 10px 0;
        }
        .tag {
            display: inline-block;
            background: #ecf0f1;
            color: #2c3e50;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.9em;
            margin: 5px 5px 5px 0;
        }
        .price {
            color: #27ae60;
            font-weight: bold;
        }
        .rating {
            color: #f39c12;
            font-weight: bold;
        }
        .refresh-btn, .more-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 6px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .refresh-btn:hover, .more-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        .refresh-btn:disabled, .more-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            color: #7f8c8d;
        }
        .birthday-message {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            color: #2c3e50;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÅ Monthly Pack Agent</h1>
            <p>Personalized recommendations for Swapna</p>
            <div class="birthday-message">
                <h2>üéÇ Happy Birthday Swapna! üéâ</h2>
                <p>Your personal AI recommendation system is ready!</p>
            </div>
            <div class="instructions">
                <strong>‚ú® How to use:</strong> Click the "üîÑ Refresh" buttons to get new recommendations, or "üìã 3 Options" to see multiple choices for any category!
            </div>
        </div>
        
        <div class="recommendations" id="recommendations">
            <!-- Cards will be generated by JavaScript -->
        </div>
        
        <div class="footer">
            <p>Generated on <span id="current-date"></span></p>
            <p>üíù Made with love for Swapna's birthday</p>
            <p>üîó <a href="https://github.com/yourusername/swapna-monthly-pack" style="color: #667eea;">View on GitHub</a></p>
        </div>
    </div>

    <script>
        // Swapna's preferences and recommendation data
        const userPreferences = {
            name: "Swapna (Mom)",
            age: 45,
            ethnicity: "Indian (Marathi)",
            location: "Cupertino, California",
            interests: ["Yoga", "Meditation", "Hiking", "Dancing", "Singing", "Family time"]
        };

        // All possible recommendations for each category
        const allRecommendations = {
            entertainment: [
                {
                    title: "The Good Place",
                    description: "A comedy-drama about ethics and personal growth",
                    rating: 8.2,
                    type: "tv"
                },
                {
                    title: "Bridgerton",
                    description: "Romantic period drama series with strong characters",
                    rating: 7.3,
                    type: "tv"
                },
                {
                    title: "Anne with an E",
                    description: "Coming-of-age story with heart and character development",
                    rating: 8.7,
                    type: "tv"
                },
                {
                    title: "This Is Us",
                    description: "Family drama exploring relationships across generations",
                    rating: 8.7,
                    type: "tv"
                },
                {
                    title: "The Crown",
                    description: "Historical drama about the British Royal Family",
                    rating: 8.6,
                    type: "tv"
                },
                {
                    title: "Virgin River",
                    description: "Romance and drama in a small mountain town",
                    rating: 7.4,
                    type: "tv"
                }
            ],
            book: [
                {
                    title: "The Power of Now",
                    author: "Eckhart Tolle",
                    description: "A spiritual guide to enlightenment and living in the present moment",
                    rating: 4.5
                },
                {
                    title: "Untamed",
                    author: "Glennon Doyle",
                    description: "A memoir about finding courage to live authentically and break free from expectations",
                    rating: 4.3
                },
                {
                    title: "The Gifts of Imperfection",
                    author: "Bren√© Brown",
                    description: "Guide to cultivating courage, compassion, and connection",
                    rating: 4.6
                },
                {
                    title: "Educated",
                    author: "Tara Westover",
                    description: "A memoir about education, family, and the struggle for self-invention",
                    rating: 4.5
                },
                {
                    title: "The Alchemist",
                    author: "Paulo Coelho",
                    description: "A spiritual journey about following your dreams and finding your purpose",
                    rating: 4.2
                },
                {
                    title: "Big Magic",
                    author: "Elizabeth Gilbert",
                    description: "Creative living beyond fear - inspiration for artists and dreamers",
                    rating: 4.1
                }
            ],
            podcast: [
                {
                    title: "The Mindful Mom",
                    creator: "Various",
                    description: "A podcast for mindful parenting and personal growth"
                },
                {
                    title: "Meditation for Moms",
                    creator: "Various",
                    description: "Guided meditations and mindfulness practices for busy mothers"
                },
                {
                    title: "Wellness for Women",
                    creator: "Various",
                    description: "Health, wellness, and self-care tips for women"
                },
                {
                    title: "Ten Percent Happier",
                    creator: "Dan Harris",
                    description: "Meditation and mindfulness for skeptics and busy people"
                },
                {
                    title: "The Life Coach School Podcast",
                    creator: "Brooke Castillo",
                    description: "Personal development and mindset coaching"
                },
                {
                    title: "On Being",
                    creator: "Krista Tippett",
                    description: "Conversations about spirituality, meaning, and life"
                }
            ],
            wine: [
                {
                    name: "Catena Malbec",
                    type: "Malbec",
                    region: "Argentina",
                    price_range: "$15-25",
                    description: "Rich, full-bodied Malbec with dark fruit flavors and smooth tannins",
                    where_to_buy: "Total Wine, BevMo"
                },
                {
                    name: "Bogle Cabernet Sauvignon",
                    type: "Cabernet Sauvignon",
                    region: "California",
                    price_range: "$12-18",
                    description: "Classic California Cabernet with blackberry and vanilla notes",
                    where_to_buy: "Safeway, Total Wine"
                },
                {
                    name: "Columbia Crest Grand Estates Syrah",
                    type: "Syrah",
                    region: "Washington",
                    price_range: "$10-15",
                    description: "Bold Syrah with spice and dark berry flavors",
                    where_to_buy: "Most grocery stores"
                },
                {
                    name: "Seghesio Zinfandel",
                    type: "Zinfandel",
                    region: "Sonoma County",
                    price_range: "$20-30",
                    description: "Robust Zinfandel with jammy fruit and peppery finish",
                    where_to_buy: "Wine shops, Total Wine"
                },
                {
                    name: "Decoy Cabernet Sauvignon",
                    type: "Cabernet Sauvignon",
                    region: "Sonoma County",
                    price_range: "$18-25",
                    description: "Elegant Cabernet with cherry and plum notes, smooth finish",
                    where_to_buy: "BevMo, Whole Foods"
                },
                {
                    name: "Alamos Malbec",
                    type: "Malbec",
                    region: "Argentina",
                    price_range: "$8-12",
                    description: "Affordable everyday Malbec with ripe berry flavors",
                    where_to_buy: "Most grocery stores"
                }
            ],
            hiking: [
                {
                    name: "Filoli Gardens Trail",
                    location: "Woodside, CA",
                    distance: "2 miles",
                    elevation: "100 ft",
                    difficulty: "Easy",
                    features: ["Gardens", "Historic mansion", "Peaceful"],
                    description: "Beautiful gardens and easy walking paths with stunning views"
                },
                {
                    name: "Uvas Canyon County Park",
                    location: "Morgan Hill, CA",
                    distance: "4 miles",
                    elevation: "300 ft",
                    difficulty: "Moderate",
                    features: ["Waterfalls", "Creek", "Shaded"],
                    description: "Lovely trail with multiple waterfalls and creek crossings"
                },
                {
                    name: "Rancho San Antonio Preserve",
                    location: "Cupertino, CA",
                    distance: "6 miles",
                    elevation: "200 ft",
                    difficulty: "Moderate",
                    features: ["Close to home", "Wildlife", "Open space"],
                    description: "Local favorite with rolling hills and farm animals"
                },
                {
                    name: "Pescadero Creek Park",
                    location: "Pescadero, CA",
                    distance: "5 miles",
                    elevation: "250 ft",
                    difficulty: "Moderate",
                    features: ["Redwoods", "Creek", "Peaceful"],
                    description: "Serene hike through towering redwoods along a gentle creek"
                },
                {
                    name: "Stevens Creek County Park",
                    location: "Cupertino, CA",
                    distance: "3 miles",
                    elevation: "150 ft",
                    difficulty: "Easy-Moderate",
                    features: ["Close to home", "Lake views", "Shaded"],
                    description: "Pleasant loop around Stevens Creek Reservoir"
                },
                {
                    name: "Castle Rock State Park",
                    location: "Los Gatos, CA",
                    distance: "5 miles",
                    elevation: "400 ft",
                    difficulty: "Moderate",
                    features: ["Rock formations", "Views", "Forest"],
                    description: "Stunning rock formations and panoramic views"
                }
            ],
            perfume: [
                {
                    name: "Jo Malone Wood Sage & Sea Salt",
                    brand: "Jo Malone",
                    scent_family: ["Woody", "Fresh"],
                    price_range: "$68-134",
                    description: "Fresh and woody with sea salt minerality - perfect for everyday wear",
                    where_to_buy: "Sephora, Nordstrom"
                },
                {
                    name: "Bath & Body Works Eucalyptus Tea",
                    brand: "Bath & Body Works",
                    scent_family: ["Woody", "Herbal"],
                    price_range: "$12-25",
                    description: "Affordable alternative with eucalyptus and warm tea notes",
                    where_to_buy: "Bath & Body Works"
                },
                {
                    name: "The Body Shop White Musk",
                    brand: "The Body Shop",
                    scent_family: ["Woody", "Floral"],
                    price_range: "$20-35",
                    description: "Clean, warm musk with subtle floral undertones",
                    where_to_buy: "The Body Shop, Ulta"
                },
                {
                    name: "Jo Malone Basil & Neroli",
                    brand: "Jo Malone",
                    scent_family: ["Herbal", "Citrus"],
                    price_range: "$68-134",
                    description: "Uplifting blend of basil and neroli - energizing and sophisticated",
                    where_to_buy: "Sephora, Jo Malone boutique"
                },
                {
                    name: "Pacifica Indian Coconut Nectar",
                    brand: "Pacifica",
                    scent_family: ["Warm", "Exotic"],
                    price_range: "$22-36",
                    description: "Warm coconut with vanilla and wood notes - tropical and cozy",
                    where_to_buy: "Target, Ulta, Whole Foods"
                },
                {
                    name: "Jo Malone Peony & Blush Suede",
                    brand: "Jo Malone",
                    scent_family: ["Floral", "Suede"],
                    price_range: "$68-134",
                    description: "Soft floral with luxurious suede notes - elegant and feminine",
                    where_to_buy: "Sephora, Nordstrom"
                }
            ]
        };

        // Current recommendations (one from each category)
        let currentRecommendations = {};

        // Track what's been shown to avoid immediate duplicates
        let shownIndices = {
            entertainment: [],
            book: [],
            podcast: [],
            wine: [],
            hiking: [],
            perfume: []
        };

        function getRandomRecommendation(category, count = 1) {
            const available = allRecommendations[category];
            if (!available || available.length === 0) return null;

            // If we've shown most items, reset the tracking
            if (shownIndices[category].length >= available.length - 1) {
                shownIndices[category] = [];
            }

            if (count === 1) {
                // Get one recommendation
                let availableIndices = [];
                for (let i = 0; i < available.length; i++) {
                    if (!shownIndices[category].includes(i)) {
                        availableIndices.push(i);
                    }
                }
                
                if (availableIndices.length === 0) {
                    // All shown, reset and use all
                    shownIndices[category] = [];
                    availableIndices = Array.from({length: available.length}, (_, i) => i);
                }
                
                const randomIndex = availableIndices[Math.floor(Math.random() * availableIndices.length)];
                shownIndices[category].push(randomIndex);
                return available[randomIndex];
            } else {
                // Get multiple recommendations
                const shuffled = [...available].sort(() => 0.5 - Math.random());
                return shuffled.slice(0, Math.min(count, available.length));
            }
        }

        function formatContent(item, category) {
            let content = '<div style="padding: 15px; border-left: 3px solid #764ba2; margin-bottom: 10px;">';
            
            if (category === 'entertainment') {
                content += `
                    <h4>${item.title || 'N/A'}</h4>
                    <p><span class="rating">‚≠ê ${item.rating || 'N/A'}</span> ‚Ä¢ ${(item.type || '').charAt(0).toUpperCase() + (item.type || '').slice(1)}</p>
                    <p>${item.description || ''}</p>
                `;
            } else if (category === 'book') {
                content += `
                    <h4>${item.title || 'N/A'}</h4>
                    <p>by ${item.author || 'Unknown'}</p>
                    <p><span class="rating">‚≠ê ${item.rating || 'N/A'}</span></p>
                    <p>${item.description || ''}</p>
                `;
            } else if (category === 'podcast') {
                content += `
                    <h4>${item.title || 'N/A'}</h4>
                    <p>by ${item.creator || 'Unknown'}</p>
                    <p>${item.description || ''}</p>
                `;
            } else if (category === 'wine') {
                content += `
                    <h4>${item.name || 'N/A'}</h4>
                    <p><span class="tag">${item.type || ''}</span> <span class="tag">${item.region || ''}</span></p>
                    <p><span class="price">${item.price_range || ''}</span></p>
                    <p>${item.description || ''}</p>
                    <p><strong>Where to buy:</strong> ${item.where_to_buy || ''}</p>
                `;
            } else if (category === 'hiking') {
                let features = item.features || [];
                let featureTags = features.map(f => `<span class="tag">${f}</span>`).join('');
                content += `
                    <h4>${item.name || 'N/A'}</h4>
                    <p>${item.location || ''}</p>
                    <p><strong>${item.distance || ''}</strong> ‚Ä¢ <strong>${item.elevation || ''}</strong> ‚Ä¢ ${item.difficulty || ''}</p>
                    <p>${featureTags}</p>
                    <p>${item.description || ''}</p>
                `;
            } else if (category === 'perfume') {
                let scentTags = (item.scent_family || []).map(s => `<span class="tag">${s}</span>`).join('');
                content += `
                    <h4>${item.name || 'N/A'}</h4>
                    <p>${item.brand || ''}</p>
                    <p>${scentTags}</p>
                    <p><span class="price">${item.price_range || ''}</span></p>
                    <p>${item.description || ''}</p>
                    <p><strong>Where to buy:</strong> ${item.where_to_buy || ''}</p>
                `;
            }
            
            content += '</div>';
            return content;
        }

        function updateCard(category, content) {
            const cardBody = document.querySelector(`[data-category="${category}"] .card-body`);
            if (cardBody) {
                cardBody.innerHTML = content;
            }
        }

        function refreshCategory(category) {
            const button = document.querySelector(`[data-category="${category}"] .refresh-btn`);
            const originalText = button.textContent;
            button.textContent = 'üîÑ Loading...';
            button.disabled = true;
            
            // Simulate loading delay for better UX
            setTimeout(() => {
                const newRecommendation = getRandomRecommendation(category, 1);
                if (newRecommendation) {
                    currentRecommendations[category] = newRecommendation;
                    updateCard(category, formatContent(newRecommendation, category));
                }
                
                button.textContent = originalText;
                button.disabled = false;
            }, 500);
        }

        function getMoreOptions(category) {
            const button = document.querySelector(`[data-category="${category}"] .more-btn`);
            const originalText = button.textContent;
            button.textContent = '‚è≥ Loading...';
            button.disabled = true;
            
            // Simulate loading delay for better UX
            setTimeout(() => {
                const recommendations = getRandomRecommendation(category, 3);
                if (recommendations && Array.isArray(recommendations)) {
                    let content = '';
                    recommendations.forEach((item, index) => {
                        if (index > 0) content += '<hr style="margin: 15px 0; border: 1px solid #ecf0f1;">';
                        content += formatContent(item, category);
                    });
                    updateCard(category, content);
                }
                
                button.textContent = originalText;
                button.disabled = false;
            }, 500);
        }

        function generateCards() {
            const container = document.getElementById('recommendations');
            const categories = [
                {title: "üì∫ Entertainment", key: "entertainment"},
                {title: "üìö Book", key: "book"},
                {title: "üéß Podcast", key: "podcast"},
                {title: "üç∑ Wine", key: "wine"},
                {title: "ü•æ Hiking", key: "hiking"},
                {title: "üå∏ Perfume", key: "perfume"}
            ];

            categories.forEach(cat => {
                const recommendation = getRandomRecommendation(cat.key, 1);
                currentRecommendations[cat.key] = recommendation;
                
                const cardHTML = `
                    <div class="card" data-category="${cat.key}">
                        <div class="card-header">
                            <h3>${cat.title}</h3>
                            <div class="card-buttons">
                                <button class="refresh-btn" onclick="refreshCategory('${cat.key}')">üîÑ Refresh</button>
                                <button class="more-btn" onclick="getMoreOptions('${cat.key}')">üìã 3 Options</button>
                            </div>
                        </div>
                        <div class="card-body">
                            ${formatContent(recommendation, cat.key)}
                        </div>
                    </div>
                `;
                
                container.innerHTML += cardHTML;
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date
            const now = new Date();
            document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            // Generate recommendation cards
            generateCards();
        });
    </script>
</body>
</html>